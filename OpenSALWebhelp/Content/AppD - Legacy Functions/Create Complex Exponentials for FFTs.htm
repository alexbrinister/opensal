<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="720" MadCap:lastWidth="654" MadCap:disableMasterStylesheet="true" MadCap:tocPath="" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:liveHelp="mszvFVlJ+GnzlljgZygA9wUCAv1OETz45zwA69aYidxzXwf7FS7zigIoV+I6gW6oD04FAoD9in/z1jlssSlkuTQyJh7ITKIwMf3FeHvMpBooeW2Kw+bKFBLd9O26Zooc8/a6qAdGUmf4rNVN2GXRurH2amfnOWy/W4Z3IvRNuljT3hbhaTDDe6AC5IMIpaKdZyI8foFS+E1x5EZr2Ssof2r1cY6HUMrEYvGgEVMpmMYLvm2hiIkhbT8qtwM417ZzMmJUCdur+ODP3l1/rGto75xoBN/uxOmesr4AR1GNpm6Ha7O5jV74q0bhuN4EotWw4Ky3QVkEMNnKWX85Q93zumg3ut3rR6hEx5kVRPeGcHybFKy87YSQ1lRB9nr9rdPSBVgFGhba9pAe7VmbNiIVR4b7DZDYm9jd3RbGESyroVy4DXajkxNl9Ozacl2aVsmGWZDBZbg9hHXGUO03rFBP1TOp3XqX2g16Rr8RnRVDAln1mtKCNrNCU0WeQHWynVs0XW+cynVrpc1PpVSfK8P/Dac8CWqz0Ynel0jO52GTkkhi8XTAyuQCGPCaYWfv1pX/afCeR7QwibhNj7pl6GaA4v/DYz/U4oEK8A41k0S+YtDEgTpHZt4hR9Uf0GxtW5uRj3rv3/ngbcBTBa42N0pYKzQ/NB8HHJiloOZIr630yUhhi0PYLdDuaYi1I0ovsepUyOPmJX1UWCU/37m5IBxyKlxJZEu77AcKqL5AVU5ZkeyiK14nj2kOO2XATAj6tAAYdIBnUU7MK1a0297xba5JIVounrcPtmOH5I7LH8dTd4q/YK7a+liNU83AgW+WWyAnf9QfTS8W8byuh01VVlFQw1yztqWoIwP9umsdaMm/0I/aKvScOi11VlcmgW24ZH0UexJu2ZHdt/Zyj2CHk+6K9bHwbvoEZK94GJrdocTeE4DzCTaA1SO1Vq0at9qZy8jDyY6JIoJbENiEnKRz9cNy9zA8NcEKNdH4uFzHF80dM6N3sXZId7iJ6y9id08Mn/lHX9qaJNJEzvn+dw+XEgUq8QYkZ5DxfOmVGk7NMWQ6YZH7iEJY+52ECS/sulmJ189a5JE6AVj4Vvvn+p4lHnaiSxP9hrC0PttYAwizfrItcoQDZYDmKNwqOb8ZvsCRdKylrWH6abIlbu6DCKy0LqJgQWh4ObLSJAbaVG2zWGUMzP+e8VsLKdBeSaPqPuG5aksdxu3c8gPf/5BoXk9tdnpezVojghuSmpjWjM4RfUPmoFlycZpN0L83cX8KIS7KBpES2fbX2p0w5fGAwZfuKzX0C3AneqgQE+bzGlyWYE3eh4geio/4q4zpvkLDpeEt5ngdOarLxhy7kgq4GQL/72T38A==" MadCap:PathToHelpSystem="../../" MadCap:HelpSystemFileName="Default.xml" MadCap:SearchType="Stem">
    <head>
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" type="text/css" /><title>Create Complex Exponentials for Fourier Transforms</title>
        <link href="../Resources/TableStyles/o_NoteIndent.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/TableStyles/o_Invisible.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/TableStyles/o_Code.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/TableStyles/p_NoteIndent.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/TableStyles/p_Invisible.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/TableStyles/p_Code.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/Stylesheets/BookStyles.css" rel="stylesheet" type="text/css" />
        <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapLiveHelpUtilities.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapLiveHelpBody.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapDialog.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapAddCommentDialog.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapReplyCommentDialog.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapRegisterUserDialog.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../Default_CSH.htm#AppD - Legacy Functions/Create Complex Exponentials for FFTs.htm" style="">Open topic with navigation</a>
        </p>
        <h2><a name="kanchor1301"></a>Create Complex Exponentials for Fourier Transforms</h2>
        <p class="API_name"><a name="fft_setup"></a>fft_setup(), <a name="fft_setupd"></a>fft_setupd()</p>
        <p class="API_heads">Syntax</p>
        <table style="mc-table-style: url('../Resources/TableStyles/o_Code.css');caption-side: top;width: 500px;" class="TableStyle_o_Code" cellspacing="0">
            <col style="width: 55px;">
            </col>
            <col style="width: 159px;">
            </col>
            <col style="width: 286px;">
            </col>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep" colspan="3">void <b>fft_setup</b>  (</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep" colspan="2">/* setup for single precision functions */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_ui32 log2n,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* base 2 exponent of element count */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 flag,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* options */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">FFT_setup *setup,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* specifications (returned) */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_ui32 *nbytes );</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* allocation size (returned) */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep" colspan="3">void <b>fft_setupd</b>  (</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep" colspan="2">/* setup for double precision functions */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_ui32 log2n,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* base 2 exponent of element count */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 flag,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* options */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">FFT_setupd *setup,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* specifications (returned) */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_ui32 *nbytes );</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* allocation size (returned) */</td>
            </tr>
        </table>
        <p class="API_heads">Description</p>
        <p class="Body">The fft_setup() and fft_setupd() functions build a table of complex exponentials (a weights array) for use by all FFT and windowing functions. </p>
        <p class="Body">These functions are supported for backward compatibility only.  To deliver the most efficient performance and resource utilization, use the newer <a href="../CH11 - Functions - FFTs/Setup/Create Complex Exponentials for 1D FFTs.htm#fft1d_setup">fft1d_setup[d]</a> and <a href="../CH11 - Functions - FFTs/Setup/Create Complex Exponentials for 2D FFTs.htm#fft2d_setup">fft2d_setup[d]</a> functions. The main difference between these functions is in how they handle the setup data:</p>
        <table style="mc-table-style: url('../Resources/TableStyles/o_Invisible.css');width: 500px;" class="TableStyle_o_Invisible" cellspacing="0">
            <col style="width: 118px;" />
            <col style="width: 364px;" />
            <tbody>
                <tr>
                    <td class="TableStyle_o_Invisible_Body_0_0_RowSep_ColSep">fft_setup()</td>
                    <td class="TableStyle_o_Invisible_Body_0_0_RowSep_ColEnd">Because setup data creation is postponed until the fft itself is invoked, using the fft_setup() function results in the first call to an fft taking longer than sunsequent calls with the same size.</td>
                </tr>
                <tr>
                    <td class="TableStyle_o_Invisible_Body_0_0_RowEnd_ColSep"><a href="../CH11 - Functions - FFTs/Setup/Create Complex Exponentials for 1D FFTs.htm#fft1d_setup">fft1d_setup[d]</a> and <a href="../CH11 - Functions - FFTs/Setup/Create Complex Exponentials for 2D FFTs.htm#fft2d_setup">fft2d_setup[d]</a></td>
                    <td class="TableStyle_o_Invisible_Body_0_0_RowEnd_ColEnd">Because setup is performed during the call and the first invocation of the fft does not have to perform additional setup, the newer <a href="../CH11 - Functions - FFTs/Setup/Create Complex Exponentials for 1D FFTs.htm#fft1d_setup">fft1d_setup[d]</a> and <a href="../CH11 - Functions - FFTs/Setup/Create Complex Exponentials for 2D FFTs.htm#fft2d_setup">fft2d_setup[d]</a> functions behave as expected.</td>
                </tr>
            </tbody>
        </table>
        <p class="Body">Mercury recommends that you reorganize your code to use the newer <a href="../CH11 - Functions - FFTs/Setup/Create Complex Exponentials for 1D FFTs.htm#fft1d_setup">fft1d_setup[d]</a> and <a href="../CH11 - Functions - FFTs/Setup/Create Complex Exponentials for 2D FFTs.htm#fft2d_setup">fft2d_setup[d]</a> functions, which allow the application to manage FFT setup more efficiently.</p>
        <p class="API_heads">Parameters</p>
        <p class="Parameter">log2n</p>
        <p class="Body1">Base-2 exponent</p>
        <p class="Parameter">flag</p>
        <p class="Body1">Specifies options. </p>
        <table class="TableStyle_o_NoteIndent" style="margin-right: auto;caption-side: top;width: 500px;mc-table-style: url('../Resources/TableStyles/o_NoteIndent.css');" cellspacing="0">
            <col style="width: 100%;" />
            <tbody>
                <tr>
                    <td class="TableStyle_o_NoteIndent_Body_0_0_RowSep_ColEnd">&#160;</td>
                </tr>
                <tr>
                    <td class="TableStyle_o_NoteIndent_Body_0_0_RowEnd_ColEnd">Because FFT setup does not occur until an FFT function is invoked, these flags are ignored.  However, for the sake of backward compatibility, they continue to be accepted.</td>
                </tr>
            </tbody>
        </table>
        <p class="Body1">Any combination of the following options can be specified:</p>
        <p class="ParameterIndent"><span style="font-family: monospace;">0</span>
        </p>
        <p class="Body2">Radix 2 weights array.</p>
        <p class="ParameterIndent"><span style="font-family: monospace;">FFT_RADIX3</span>
        </p>
        <p class="Body2">Radix 3 weights array. The array can also be used by radix 2 functions.</p>
        <p class="ParameterIndent"><span style="font-family: monospace;">FFT_RADIX5</span>
        </p>
        <p class="Body2">Radix 5 weights array. The array can also be used by radix 2 functions.</p>
        <p class="ParameterIndent"><span style="font-family: monospace;">FFT_COMPLEX_ONLY</span>
        </p>
        <p class="Body2">Use for optimal performance in one-dimensional, complex-valued FFTs or fast convolution routines. You cannot use the resulting FFT setup in any other FFTs.</p>
        <p class="ParameterIndent"><span style="font-family: monospace;">FFT_REAL_ONLY</span>
        </p>
        <p class="Body2">Use for optimal performance in one-dimensional, real-valued FFTs or fast convolution routines. You cannot use the resulting FFT setup in any other FFTs.</p>
        <p class="ParameterIndent"><span style="font-family: monospace;">FFT_FAST_CONVOLUTION</span>
        </p>
        <p class="Body2">Use for any setup that will be subsequently supplied to one or more of the fast convolution functions. Note the requirement of <i>log2n </i>value, above.</p>
        <p class="Body2">If both <code>FFT_RADIX3 </code>and <code>FFT_RADIX5 </code>are specified, the array can be used by radix 2, radix 3, and radix 5 functions.</p>
        <p class="Parameter">setup</p>
        <p class="Body1">The FFT setup handle that can be used with subsequent invocations of FFT functions.</p>
        <p class="Body1">If <code>NULL</code>, the function only returns the number of bytes required for the FFT, in parameter <i>nbytes</i>. To complete the setup process, use <a href="Complete Setup with User Memory Allocation.htm#fft_setup_user_alloc">fft_setup_user_alloc()</a>.</p>
        <p class="Parameter">nbytes</p>
        <p class="Body1">Caller-allocated location where the function returns the memory, in bytes, allocated to build the array. If zero is returned, the allocation failed. If <code>NULL</code>, no size is returned.</p>
        <p class="RelatedTopics" MadCap:autonum="Related Topics"><span class="autonumber"><span>Related Topics</span></span>&#160;</p>
        <p class="Body"><a href="../CH02 - Transform Functions/SAL_FFTs.htm#FFT_Limitations" target="" title="" alt="" class="MCXref_See_NoPrefix" MadCap:conditions="Default.ScreenOnly"><span style="color: DarkBlue;" class="mcFormatColor"><i>SAL Fast Fourier Transforms</i></span></a>
        </p>
        <p class="RelatedFunctions" MadCap:autonum="Related Functions"><span class="autonumber"><span>Related Functions</span></span>&#160;</p>
        <p class="Body"><a href="Complete Setup with User Memory Allocation.htm#fft_setup_user_alloc" target="" title="" alt="" class="MCXref_See_NoPrefix" MadCap:conditions="Default.ScreenOnly"><span style="color: DarkBlue;" class="mcFormatColor"><i>fft_setup_user_alloc()</i></span></a>
        </p>
        <p class="Body"><a href="../CH11 - Functions - FFTs/Setup/Free an Existing Weights Array.htm#fft_free" target="" title="" alt="" class="MCXref_See_NoPrefix" MadCap:conditions="Default.ScreenOnly"><span style="color: DarkBlue;" class="mcFormatColor"><i>fft_free(), fft_freed()</i></span></a>
        </p>
        <p class="Body"><a href="../CH11 - Functions - FFTs/Setup/Create Complex Exponentials for 1D FFTs.htm#fft1d_setup" target="" title="" alt="" class="MCXref_See_NoPrefix" MadCap:conditions="Default.ScreenOnly"><span style="color: DarkBlue;" class="mcFormatColor"><i>fft1d_setup(), fft1d_setupd()</i></span></a>
        </p>
        <p class="Body"><a href="../CH11 - Functions - FFTs/Setup/Create Complex Exponentials for 2D FFTs.htm#fft2d_setup" target="" title="" alt="" class="MCXref_See_NoPrefix" MadCap:conditions="Default.ScreenOnly"><span style="color: DarkBlue;" class="mcFormatColor"><i>fft2d_setup(), fft2d_setupd()</i></span></a>
        </p>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script><iframe id="topiccomments" name="topiccomments" title="Topic Comments" src="../../Skin/TopicComments.htm" frameborder="0" style="width: 100%; height: 0px; margin-top: 12px;"></iframe>
    </body>
</html>