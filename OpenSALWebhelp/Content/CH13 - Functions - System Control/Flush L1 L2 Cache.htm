<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="3" MadCap:lastHeight="978" MadCap:lastWidth="613" MadCap:disableMasterStylesheet="true" MadCap:tocPath="" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:liveHelp="IRbaL5ebZR0HGo0m6x6eEDyTiidJPmxn+UH3Tf942ymyw7IkxuPZco4z0rXbZVDEfcXzJk3gP/4AzMR7cyuGuEIr1UgAPzyy8jocT7g12XxbbNdCxwMOAifyvIiKKaQ//IDl7O+fwuwgRfkEyRiglru1GrpwJ4MJxJ8qtkK0ykPIlb+Xwpu6HsplU0Cl61B3GcTe4Kr+jrkQr0/KR9sm+obuLrCILxKVz3ETrG24JN/2oddHwRDR+00S4II1o89H4bjz6tMPE5CxEKIA8ShcGmXB+YNnDEVXNlHvDYamuoFf0AL/uHXZpZl1ICL2bi6tUxY3I3ONzg9oaS4jNUsZCBgXoAaRcTpYVuVSO60gklKlujb3R7wsEuxqmaG/7nZCx3rAhQ9skb/cjEufHikwJVHSO6QICQSsD8PEOkd7w9F5rNRLNooP2VpppXYfL40dbbvefhYOUaU1VbICpxStecKxgcl8hGH/GUxDa55jW8Kf5ob0VPMc0tpKOf9XEwFpsopDH9fc54EvQ79HPRT/5EfniTgAPSMzfyVzAFQQnhpHB1WKj44X8OWL/7k45eaHa/c6Z9DLac5/g1FqPQSToNA0pajN0WCKFv2JYhlzmYTL+0r2qGa5EfRT6SYrWBNBZVMTshUHaz9pzrvn36WhIFYxae5y+X/c2oEwJMTFEfUm9ugeISC7Tsiq0l8xaAABY8e3LvChVnx7pw4aZeNQhIucxFADo30FJjobcXdrPj2ty0rq4ccksX1Rq86ihnrLbQFJlY7wpoMflPAAoL3LvYfFgyCTGOJ6J+Cf3c/VD6S/PLGd9v3cDQDVQYzXH01Pyx8/J8YIo8AZBEIYecsLQn006zaoENIeTGRomfscb5eaK3hJ1IBOtxBZo0qtUMtH6+X0fLO2lLDqZVFWLARRVyc5Ofd5K8cFozRndksS+/QVj+9ezlNmwu/KTkCkXjn9MS+zzPATv9MQVsv/shyqtDAyq1YC7EjC4pSZJmInHXdP7T2A+2pyPpEDwOMGVtLN" MadCap:PathToHelpSystem="../../" MadCap:HelpSystemFileName="Default.xml" MadCap:SearchType="Stem">
    <head>
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" type="text/css" /><title>Flush the L1 and L2 Cache</title>
        <link href="../Resources/TableStyles/o_Note.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/TableStyles/o_Code.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/TableStyles/p_Note.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/TableStyles/p_Code.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../Resources/Stylesheets/BookStyles.css" rel="stylesheet" type="text/css" />
        <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapLiveHelpUtilities.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapLiveHelpBody.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapDialog.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapAddCommentDialog.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapReplyCommentDialog.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapRegisterUserDialog.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../Default_CSH.htm#CH13 - Functions - System Control/Flush L1 L2 Cache.htm" style="">Open topic with navigation</a>
        </p>
        <h2><a name="kanchor1155"></a>Flush the L1 and L2 Cache</h2>
        <p class="API_name"><a name="cache_flush_1d"></a><a name="kanchor1156"></a>cache_flush_1d(), <a name="cache_flush_2d"></a><a name="kanchor1157"></a>cache_flush_2d()</p>
        <p class="API_heads">Syntax</p>
        <table style="caption-side: top;width: 500px;mc-table-style: url('../Resources/TableStyles/o_Code.css');" class="TableStyle_o_Code" cellspacing="0">
            <col style="width: 55px;" />
            <col style="width: 163px;" />
            <col style="width: 282px;" />
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep" colspan="3">void <b>cache_flush_1d</b>(</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">char *pData,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* pointer to the data (vector) */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 nbytes,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* number of bytes to flush */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 channel,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* reserved, specify 0 */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 flag  );</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* reserved, specify 0 */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep" colspan="3">void <b>cache_flush_2d</b>(</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">char *pData,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* pointer to the data (matrix) */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 tcols,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* column stride (in bytes) */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 nr,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* number of rows to flush */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 nc,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* row length (in bytes) */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 channel,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* reserved, specify 0 */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 flag );</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* reserved, specify 0 */</td>
            </tr>
        </table>
        <p class="API_heads">Description</p>
        <p class="Body">The cache_flush_1d() and cache_flush_2d() functions flush data from the L1 cache.</p>
        <table class="TableStyle_o_Note" style="caption-side: top;width: 500px;mc-table-style: url('../Resources/TableStyles/o_Note.css');" cellspacing="0">
            <col style="width: 462px;" />
            <tbody>
                <tr>
                    <td class="TableStyle_o_Note_Body_0_0_RowSep_ColEnd">
                        <p class="Note" MadCap:autonum="&lt;b&gt;&lt;span style=&quot;color: #06347a;&quot; class=&quot;mcFormatColor&quot;&gt;Note&lt;/span&gt;&lt;/b&gt;"><span class="autonumber"><span><b><span style="color: #06347a;" class="mcFormatColor">Note</span></b></span></span>&#160;</p>
                    </td>
                </tr>
                <tr>
                    <td class="TableStyle_o_Note_Body_0_0_RowEnd_ColEnd">
                        <p>You can use the SAL cache management functions only with:</p>
                        <ul class="TableBullets">
                            <li value="1"> PowerPC 7445/7447 </li>
                            <li value="2">Non-SAL-based data processing</li>
                        </ul>
                        <p>If you use other hardware or SAL functions for data processing, these functions can adversely affect your application’s performance.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="Body">To avoid the snoop-looping problem on the PPC 7447, before issuing a DMA write operation, flush the modified buffer (the source of the DMA write operation) back to memory. </p>
        <p class="Body">To achieve optimal performance, flush the modified buffers only.</p>
        <p class="RelatedTopics" MadCap:autonum="Related Topics"><span class="autonumber"><span>Related Topics</span></span>&#160;</p>
        <p class="Body"><a href="PreLoad Data.htm#Cache_Control_Function_Usage" target="" title="" alt="" class="MCXref_See_NoPrefix" MadCap:conditions="Default.ScreenOnly"><span style="color: DarkBlue;" class="mcFormatColor"><i>Examples of Cache Control Function Usage</i></span></a>
        </p>
        <p class="RelatedFunctions" MadCap:autonum="Related Functions"><span class="autonumber"><span>Related Functions</span></span>&#160;</p>
        <p class="Body"><a href="PreLoad Data.htm#cache_load_1d" target="" title="" alt="" class="MCXref_See_NoPrefix" MadCap:conditions="Default.ScreenOnly"><span style="color: DarkBlue;" class="mcFormatColor"><i>cache_load_1d(), cache_load_2d()</i></span></a>
        </p>
        <p class="Body"><a href="Fill Cache Buffer With Zeros.htm#cache_zero_1d" target="" title="" alt="" class="MCXref_See_NoPrefix" MadCap:conditions="Default.ScreenOnly"><span style="color: DarkBlue;" class="mcFormatColor"><i>cache_zero_1d(), cache_zero_2d()</i></span></a>
        </p>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script><iframe id="topiccomments" name="topiccomments" title="Topic Comments" src="../../Skin/TopicComments.htm" frameborder="0" style="width: 100%; height: 0px; margin-top: 12px;"></iframe>
    </body>
</html>