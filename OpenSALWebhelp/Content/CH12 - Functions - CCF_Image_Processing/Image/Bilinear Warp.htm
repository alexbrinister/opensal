<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="4" MadCap:lastHeight="763" MadCap:lastWidth="654" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Functions - CCF/Image Processing|Image Processing" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:liveHelp="Cji6TB68SFYFm9JUDQICV+baUs27phgK2ELG+oZ9yhKodeTrRo8wavVbtCO8WtqJ91NC0oh7DDCK1YS0x8hMtp76a5eFDLGkbqbLX0w1zFClZPgAKj3WrRE4po+XzydLnWmFvLWDcVxpNLrvFyAsjGeRcXN5Q1ItsKs44SvrbjvNOnoLpAUsIKISNxa+wcnRepqxQr1DMEuLuMAcJFYkFCWA+iVT/dRC/Qkmy+2lzj3vtSeXvHFZl3HGT4IKODNH2D1GkiFJdH6ivc39OZDY4WPxDqzq/MWUW3AzCNe4ge/mtyE9WZGQutAZXJt0rgAjovfDjo0E+zZq6basiOOEICB6O+aJXxA+ZUK+oAUm8FXEGvN7cZ5XiL3BBedpBJqKid2L5wtqgxivlzk2B1eIElslK9WSG8S0pSrcnvQHuTqxiLzlBcI3EcP4w0IuC5ijIM5yvknu/+hVfuu7dmiXwqYrCZVMaB4+brqtpNjcplhaD5gCNmVuiee5MUiiDzlEGfI6kOsb6Z4qjqxU9FAEKIIJVYjaZ9Zlg9ufpZwYvxDOjbt705pv+N+GtPRgTrEtjnVyN8iNZbY4yxRVfcm/X1mZN5tDGx4g/qSOIB+HE4zpq78yawk8VK7UqHfJeHf5NxUg1mdCLbxpwGpdelXPCI2KW2CzDtjYAdl7HYACsN5Z9f+wJ8ug4I1s2oM9lCGTipYRp8ppqEAwRoPKWZvhEyU5PSxAvU9+PIAnV2ij76LvQD0MGkbPUfuoXLtA10NEGsF9FD/80TeYiL/pRt78aaAfW4i+ldEBppg6wR5wPgcewL+buSSuDa/MypMH8/ZBn3vHBqeBGle7RCJfbDE9ng+3tfIW7LzbmfnRsN57WJMw3J5Q4yc6X9kgbtOtKI3IH4VREOvME4TZJT+hWHDShT6VJpzy//r+3orRQ/N9QGJFR2gPQmwvagpM/sGJuUninojia0a3j7wmBKQ7x7ChStP83+3pz8wdr9moaO5zb3vlFDsomOg9R3Re5J1cTe4INfgVGAV6gce/+mIYUzY2mZznmVSaLMRD6Gk0Wx3doUuiWADkATouJ7+Mk4YsuIpHFjCrRhTmPZwbGWOeKqws5fzTgbE1TCWNRYQgaHVEiZ/M5LUsSJ/UxJg4KqRo8s2AR9rT2HQMQjzkD8JF0RrnggdtMpVjx2bFHbBOCUhySDPWtqgNBrOFFq0RlD9jbOB36A/uUYduz8tZPrcgQ/HXZuT8wP7ckw/Xu/T7g+yuqDrrPE5M17E1/D8d+rXqf7YS3hdt6+rx5oCZ1tOT5qoASiY5YckK+hddWaZ0brzYYiGxs+k+BD89sGJEYWkrxJaHjVllIpEg9gnISClB9rxVBw==" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="Default.xml" MadCap:SearchType="Stem">
    <head>
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" type="text/css" /><title>Bilinear Warp with Bilinear Interpolation</title>
        <link href="../../Resources/TableStyles/o_Code.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/TableStyles/p_Code.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/Stylesheets/BookStyles.css" rel="stylesheet" type="text/css" />
        <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
        <script src="../../SkinSupport/MadCapLiveHelpUtilities.js" type="text/javascript">
        </script>
        <script src="../../SkinSupport/MadCapLiveHelpBody.js" type="text/javascript">
        </script>
        <script src="../../SkinSupport/MadCapDialog.js" type="text/javascript">
        </script>
        <script src="../../SkinSupport/MadCapAddCommentDialog.js" type="text/javascript">
        </script>
        <script src="../../SkinSupport/MadCapReplyCommentDialog.js" type="text/javascript">
        </script>
        <script src="../../SkinSupport/MadCapRegisterUserDialog.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../../Default_CSH.htm#CH12 - Functions - CCF_Image_Processing/Image/Bilinear Warp.htm" style="">Open topic with navigation</a>
        </p>
        <h2><a name="kanchor1145"></a>Bilinear Warp with Bilinear Interpolation</h2>
        <p class="API_name"><a name="warpx"></a><a name="kanchor1146"></a>warpx(), <a name="warpdx"></a><a name="kanchor1147"></a>warpdx()</p>
        <p class="Body">The following formulas define the inverse mapping that relates source image coordinates (x<span style="font-family: sans-serif;">’</span>, y<span style="font-family: sans-serif;">’</span>) to target image coordinates (x, y):</p>
        <p class="Image">
            <img src="../../Resources/Images/SAL_funct_equat_199.jpg" />
        </p>
        <p class="API_heads">Syntax</p>
        <table style="caption-side: top;width: 500px;mc-table-style: url('../../Resources/TableStyles/o_Code.css');" class="TableStyle_o_Code" cellspacing="0">
            <col style="width: 55px;" />
            <col style="width: 129px;" />
            <col style="width: 316px;" />
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep" colspan="3">void <b>warpx</b>(</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_f32 *A,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* input image */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_f32 *B,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* transformation parameters vector of length 8 */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_f32 *C,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* output image */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 m,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* column count for A, must be even */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 n,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* row count for A */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 p,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* column count for C, must be even */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 q,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* row count for C */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 f,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* flag: background value provided by g */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_f32 *g,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* background intensity value */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 eflag );</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* ESAL flag */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep" colspan="3">void <b>warpdx</b>(</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_f64 *A,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* input image */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_f64 *B,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* transformation parameters vector of length 8 */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_f64 *C,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* output image */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 m,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* column count for A, must be even */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 n,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* row count for A */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 p,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* column count for C, must be even */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 q,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* row count for C */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 f,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* flag: background value provided by g */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_f64 *g,</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* background intensity value */</td>
            </tr>
            <tr>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">&#160;</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColSep">SAL_i32 eflag );</td>
                <td class="TableStyle_o_Code_Body_0_0_RowSep_ColEnd">/* ESAL flag */</td>
            </tr>
        </table>
        <p class="API_heads">Description</p>
        <p class="Body">The warpx() and warpdx() functions geometrically transform image <i>A </i>to produce image <i>C</i>. If the <i>b6 </i>and <i>b7 </i>parameters are zero, the transformation is affine. These functions can be done out-of-place only.</p>
        <p class="Body">Vector <i>B </i>provides an ordered list of coefficient parameters that describe the inverse of the coordinate mapping of image <i>A </i>to image <i>C</i>.</p>
        <ul>
            <li value="1">b[<span style="font-family: serif;">0</span>] and b[1] are translations in the x<span style="font-family: sans-serif;">’</span> and y<span style="font-family: sans-serif;">’</span> directions respectively.</li>
            <li value="2">b[2] through b[5] are the linear transformation coefficients which can be thought of geometrically as a composite rotation/dilation/shear.</li>
            <li value="3">b[6] and b[7] are the nonlinear (bilinear) term coefficients.</li>
        </ul>
        <p class="Body">Values for these parameters can be determined by mapping any four points of image <i>A </i>to any four points of image <i>C</i>. This mapping yields eight simultaneous equations which, when solved, give values for parameters b<span style="font-family: serif;">0</span> through b7.</p>
        <p class="Body">Bilinear interpolation of input values from image <i>A </i>determines output values for <i>C</i>. Pixels of <i>C </i>derived from out-of-range coordinates of image <i>A </i>are not written if flag f is zero or are set to the intensity specified by <i>g </i>if flag <i>f </i>is 1. All other pixels of <i>C </i>derive their intensities by interpolation between the four pixels of image <i>A </i>surrounding each mapped output pixel in the input image.</p>
        <p class="RelatedTopics" MadCap:autonum="Related Topics"><span class="autonumber"><span>Related Topics</span></span>&#160;</p>
        <p class="Body"><a href="../../CH02 - Transform Functions/SAL_image_transforms.htm" target="" title="GO to SAL Image Transformations" alt="GO to SAL Image Transformations" class="MCXref_See_NoPrefix" MadCap:conditions="Default.ScreenOnly"><span style="color: DarkBlue;" class="mcFormatColor"><i>SAL Image Transformations</i></span></a>
        </p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script><iframe id="topiccomments" name="topiccomments" title="Topic Comments" src="../../../Skin/TopicComments.htm" frameborder="0" style="width: 100%; height: 0px; margin-top: 12px;"></iframe>
    </body>
</html>